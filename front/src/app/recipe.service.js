"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,p=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(i=e[c])&&(p=(n<3?i(p):3<n?i(t,r,p):i(t,r))||p);return 3<n&&p&&Object.defineProperty(t,r,p),p};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),of_1=require("rxjs/observable/of"),operators_1=require("rxjs/operators"),http_1=require("@angular/common/http"),environment_1=require("../environments/environment"),RecipeService=function(){function e(e,t){this.http=e,this.authservice=t,this.httpOptions={headers:new http_1.HttpHeaders({"Content-Type":"application/json",Authorization:"Token "+this.authservice.getToken()})}}return e.prototype.getRecipes=function(){return this.http.get(environment_1.environment.SERVER_ADRESS+"/recipes/api/allrecipes")},e.prototype.getRecipe=function(e){return this.log("fetched recipe id="+e),this.http.get(environment_1.environment.SERVER_ADRESS+"/recipes/api/recipe/"+e)},e.prototype.updateRecipe=function(e){return this.http.put(environment_1.environment.SERVER_ADRESS+"/recipes/api/updaterecipe/"+e._id,e,this.httpOptions).pipe(operators_1.catchError(this.handleError("updateRecipe")))},e.prototype.delRecipe=function(e){return this.log("Deleting recipe "+e.name+"from database"),this.http.delete(environment_1.environment.SERVER_ADRESS+"/recipes/api/delrecipe/"+e._id,this.httpOptions).pipe(operators_1.catchError(this.handleError("delRecipe")))},e.prototype.addRecipe=function(e){return this.log("Adding new data entry to database"),this.http.post(environment_1.environment.SERVER_ADRESS+"/recipes/api/postrecipe",e,this.httpOptions).pipe(operators_1.catchError(this.handleError("postrecipe",e)))},e.prototype.log=function(e){console.log("RecipeService: "+e)},e.prototype.handleError=function(t,r){var o=this;return void 0===t&&(t="operation"),function(e){return console.error(e),o.log(t+" failed: "+e.message),of_1.of(r)}},e=__decorate([core_1.Injectable()],e)}();exports.RecipeService=RecipeService;